---
title: Leetcodeç¬¬278é¢˜ ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬
tags:
    - Leetcode
categories:
    - ç®—æ³•
date: 2022-07-01 12:01:01
thumbnail:
---

## ğŸŒŸ é¢˜ç›®æè¿°

ä½ æ˜¯äº§å“ç»ç†ï¼Œç›®å‰æ­£åœ¨å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿå¼€å‘æ–°çš„äº§å“ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„äº§å“çš„æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰é€šè¿‡è´¨é‡æ£€æµ‹ã€‚ç”±äºæ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºä¹‹å‰çš„ç‰ˆæœ¬å¼€å‘çš„ï¼Œæ‰€ä»¥é”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ã€‚

å‡è®¾ä½ æœ‰ n ä¸ªç‰ˆæœ¬` [1, 2, ..., n]`ï¼Œä½ æƒ³æ‰¾å‡ºå¯¼è‡´ä¹‹åæ‰€æœ‰ç‰ˆæœ¬å‡ºé”™çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ `bool isBadVersion(version)` æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· version æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚å®ç°ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ åº”è¯¥å°½é‡å‡å°‘å¯¹è°ƒç”¨ API çš„æ¬¡æ•°ã€‚


ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šn = 5, bad = 4
è¾“å‡ºï¼š4
è§£é‡Šï¼š
è°ƒç”¨ isBadVersion(3) -> false 
è°ƒç”¨ isBadVersion(5) -> true 
è°ƒç”¨ isBadVersion(4) -> true
æ‰€ä»¥ï¼Œ4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 1, bad = 1
è¾“å‡ºï¼š1
```


æç¤ºï¼š

`1 <= bad <= n <= 231 - 1`

## ğŸ‚ è§£é¢˜æ–¹æ³•

### 1âƒ£ï¸ æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾

å› ä¸ºé¢˜ç›®è¦æ±‚å°½é‡å‡å°‘è°ƒç”¨æ£€æŸ¥æ¥å£çš„æ¬¡æ•°ï¼Œæ‰€ä»¥ä¸èƒ½å¯¹æ¯ä¸ªç‰ˆæœ¬éƒ½è°ƒç”¨æ£€æŸ¥æ¥å£ï¼Œè€Œæ˜¯åº”è¯¥å°†è°ƒç”¨æ£€æŸ¥æ¥å£çš„æ¬¡æ•°é™åˆ°æœ€ä½ã€‚

æ³¨æ„åˆ°ä¸€ä¸ªæ€§è´¨ï¼šå½“ä¸€ä¸ªç‰ˆæœ¬ä¸ºæ­£ç¡®ç‰ˆæœ¬ï¼Œåˆ™è¯¥ç‰ˆæœ¬ä¹‹å‰çš„æ‰€æœ‰ç‰ˆæœ¬å‡ä¸ºæ­£ç¡®ç‰ˆæœ¬ï¼›å½“ä¸€ä¸ªç‰ˆæœ¬ä¸ºé”™è¯¯ç‰ˆæœ¬ï¼Œåˆ™è¯¥ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬å‡ä¸ºé”™è¯¯ç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚

å…·ä½“åœ°ï¼Œå°†å·¦å³è¾¹ç•Œåˆ†åˆ«åˆå§‹åŒ–ä¸º  1 å’Œ  nï¼Œå…¶ä¸­  n æ˜¯ç»™å®šçš„ç‰ˆæœ¬æ•°é‡ã€‚è®¾å®šå·¦å³è¾¹ç•Œä¹‹åï¼Œæ¯æ¬¡æˆ‘ä»¬éƒ½ä¾æ®å·¦å³è¾¹ç•Œæ‰¾åˆ°å…¶ä¸­é—´çš„ç‰ˆæœ¬ï¼Œæ£€æŸ¥å…¶æ˜¯å¦ä¸ºæ­£ç¡®ç‰ˆæœ¬ã€‚å¦‚æœè¯¥ç‰ˆæœ¬ä¸ºæ­£ç¡®ç‰ˆæœ¬ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬å¿…ç„¶ä½äºè¯¥ç‰ˆæœ¬çš„å³ä¾§ï¼Œæˆ‘ä»¬ç¼©ç´§å·¦è¾¹ç•Œï¼›å¦åˆ™ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬å¿…ç„¶ä½äºè¯¥ç‰ˆæœ¬åŠè¯¥ç‰ˆæœ¬çš„å·¦ä¾§ï¼Œæˆ‘ä»¬ç¼©ç´§å³è¾¹ç•Œã€‚

è¿™æ ·æˆ‘ä»¬æ¯åˆ¤æ–­ä¸€æ¬¡éƒ½å¯ä»¥ç¼©ç´§ä¸€æ¬¡è¾¹ç•Œï¼Œè€Œæ¯æ¬¡ç¼©ç´§æ—¶ä¸¤è¾¹ç•Œè·ç¦»å°†å˜ä¸ºåŸæ¥çš„ä¸€åŠï¼Œå› æ­¤æˆ‘ä»¬è‡³å¤šåªéœ€è¦ç¼©ç´§  O(logn) æ¬¡ã€‚

<code-group>
  <code-block title="JAVA äºŒåˆ†æŸ¥æ‰¾" active>

  ```java
/* The isBadVersion API is defined in the parent class VersionControl.
      boolean isBadVersion(int version); */

public class Solution extends VersionControl {
    public int firstBadVersion(int n) {
        if (n == 1) return n;
        
        int l = 1; 
        int r = n;

        while(l < r) {
            int m = l + ((r - l) >> 1);

            if (isBadVersion(m)) {
                r = m;
            } else {
                l = m + 1;
            }
        }
        return l;
    }
}
  ```

</code-block>
</code-group>

<img src="https://file.pandacode.cn/blog/202201271524785.png" alt="image-20220127115203101" style="zoom:50%;" />

**å¤æ‚åº¦åˆ†æ**

æ—¶é—´å¤æ‚åº¦ï¼š O(logn)ï¼Œå…¶ä¸­  n æ˜¯ç»™å®šç‰ˆæœ¬çš„æ•°é‡ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š O(1)ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜è‹¥å¹²å˜é‡ã€‚

## ğŸ™ æ„Ÿè°¢

- [åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode-cn.com/)
